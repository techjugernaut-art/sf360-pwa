<h1 mat-dialog-title>{{editStockModalTitle | uppercase}}</h1>
<mat-progress-bar mode="indeterminate" *ngIf="isProcessing"></mat-progress-bar>

<form [formGroup]="formGroup" (ngSubmit)="onSubmit(formGroup?.value)" *ngIf="curentStep === 'connectSage'" >
  <div mat-dialog-content>


    <div class="row">
      <mat-form-field class="col-md-12">
        <input type="text" matInput placeholder="SageOne Email" formControlName="sageone_email">
        <mat-hint class="text-danger" *ngIf="!sageone_email?.valid && sageone_email?.touched">Please enter valid SageOne Email</mat-hint>
      </mat-form-field>
    </div>

    <div class="row">
      <mat-form-field class="col-md-12">
        <input type="password" matInput placeholder="SageOne Password" formControlName="sageone_pass">
        <mat-hint class="text-danger" *ngIf="!sageone_pass?.valid && sageone_pass?.touched">Please enter SageOne Password</mat-hint>
      </mat-form-field>
    </div>


  </div>

  <mat-dialog-actions class="text-right">
    <button mat-raised-button mat-dialog-close>Close</button>
    <button mat-raised-button color="primary" [disabled]="formGroup?.invalid || isProcessing"
      type="submit">Connect</button>
  </mat-dialog-actions>
</form>

<div  *ngIf="curentStep === 'selectCompany'">
  <div  mat-dialog-content>
    <label id="example-radio-group-label">Select a company to assign to shop</label>
    <mat-radio-group
      aria-labelledby="example-radio-group-label"
      class="sage-company-radio-group" [formControl]="companyIdFormControl">
      <mat-radio-button class="sage-company-radio-button" *ngFor="let company of sageCompanies" [value]="company?.ID">
        {{company?.Name}}
      </mat-radio-button>
    </mat-radio-group>
  </div>


<mat-dialog-actions class="text-right">
  <button mat-raised-button mat-dialog-close>Close</button>
  <button mat-raised-button color="primary" [disabled]="companyIdFormControl?.invalid || isProcessing" (click)="onAssignCompanyId()"
    type="button">Assign</button>
</mat-dialog-actions>
</div>

<div  *ngIf="curentStep === 'selectBankAccount'">
  <div  mat-dialog-content>
    <label id="example-radio-group-label">Select a bank account to assign to shop</label>
    <mat-radio-group
      aria-labelledby="example-radio-group-label"
      class="sage-company-radio-group" [formControl]="bankAccountFormControl">
      <mat-radio-button class="sage-company-radio-button" *ngFor="let company of sageBankAccounts" [value]="company?.ID">
        {{company?.Name}} - {{company?.BankName}}
      </mat-radio-button>
    </mat-radio-group>
  </div>


<mat-dialog-actions class="text-right">
  <button mat-raised-button mat-dialog-close>Close</button>
  <button mat-raised-button color="primary" [disabled]="bankAccountFormControl?.invalid || isProcessing" (click)="onAssignBankAccount()"
    type="button">Assign</button>
</mat-dialog-actions>
</div>
